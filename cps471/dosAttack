				3 February 00:40 - 2:31

# Author: Ash+
# Date Created: Wed Feb  3 2:31:00 PM EST 2021
# Last Date Modified: Fri Mar 12 09:54:53 AM EST 2021
# File Name: dosAttack 
# Course: CPS 471
# Instructor: Baldwin


# This is chapter of CompSec Principles && Practice (William Stallings)
# This chapter was done prior to funneling 

~~
Dos Attack: Action that impairs or prevents authorized use of networks, systems
	    or applications by exhuasting resources (CPU, bandwidth, disk space)

Dos:
	* Attack on availability of service
	* Network bandwidth:
		- Attack on connection between org. and ISP

	* System resources:
		- Crash / overload network handling software
		- Syn spoof is an example
		- Ping of death / teardrop attack (win 95)
	
	* Application resources:
		- Taking up requests from table, limiting proper users from
		  connecting and using the service.

Flood ping attack:
	* Aims to overwhelm network connection to target
	* Source of attack is easy to find, unless spoofed address is used
	* Network performance is affected

Source Address Spoofing:
	* Done usually via raw socket interface (???) on OS
	* Makes identifying attackers much harder
	* Network engineers can find out source via ports and monitoring of 
	  unused IP addresses

SYN Spoofing:
	* Overflow of tables used to manage open connections, preventing proper users
	* Attackc on system resources

TCP Handshake:
	* Send SYN + (sequence packet to keep track of order)
	* Receive SYN, send SYN + ACK (with sequence number assos. with )
	* Receive SYN + ACK, send SYN + (++sequence number)

TCP Syn Spoofing:
	* Spoofed syn source
	* Server responds to spoofed address
	* Packets get sent to non existent address or random machine that wont respond
	* Server keeps sending SYN + ACK packets thinking that these packets are getting 
	  dropped. Lastly drops connection after time if no response
	* Syn spoofing fills table, server responds to lots of nonexistent machines
	  thus using up system resources

Flooding Attacks:
	* Classified based on protocol used
	* goal is to overload network capacity
	* Any network packet can be used
	* ICMP Flood:
		- Useful network diagnostic tool
		- Ping flood using icmp echo request
	
	* UDP Flood:
		- Uses UDP packets directed to some port number 
		- Less overhead than tcp/ip

	* TCP SYN flood:
		 - Multiple # of syn packets without responding 

DDOS:
	* Use of multiple systems to dos 1 target (botnets / IoT devices)
	* Large collection of machines = botnets

HTTP Based Attacks:
	* HTTP Flood:
		- Bombards web servers with http requests
		- Spidering / web crawlers
		- Bots following all links in website recursively

	* Slowloris:
		- Legitimate requests that never complete
		- Can consume entire server capacity
		- IDS wont recognize this due to siganture (this is behavioural attack)

Reflection Attacks:
	* Attacker sends spoofed source address to target system
	* Server responds to spoofed source address, which is a real target here
	* hence the 'reflection' attack
	* Keep doing this and sending packets to spoofed address 
	* Basic defense is to block all spoofed source packets

DNS Reflection Attack:
	* Attacker spoofs source address and port number, send to DNS server
	* DNS server responds to spoofed address via given port (port 7 <-- important icmp)
	* Spoofed machine responds under certain circumstance (?? not sure what)
	* Loop is now possible between DNS server and spoofed machine
	* Easy to prevent through firewall 

Amplification attack:
	* Zombies all use same spoofed address, and target is receiving all spoofed 
	  requests (hundreds of potential requests)

Dos Attack Defense:
	* Prevention
	* Detection
	* Traceback and ID attacker
	* Attack reaction
	* Hard to prevent entirely, popular sites have high volume of users

Dos Attack Prevention:
	* Blocking and detecting spoofed addresses:
		- Send request to suspected spoofed address, if no response then drop
		- Response should be consistent with previous packets (TTL value which 
		  is number of hops required from source to target)

	* Reverse path forwarding (RPF) filtering:
		- Path to and from source should be the same, if not then its spoofed prob.
		- Not sure how this works to owell

	* Modified TCP connection handling code

Other Attack Prevention:
	* Block IP directed broadcasts
	* Block suspicious services and port combos
	* Manage application attacks with captcha's
	* Use mirrored and replicated servers when high-performance and reliability is req.

Responding to Dos Attacks:
	* How to contact ISP
	* Impose traffic filtering upstream
	* Antispoofing, directed broadcast, rate limiting filters
	* Network monitors and IDS to detect abnormal network traffic

More specific:
	* Idenfity type of attack:
		- capture and analyze packets
		- Design filter to block attack traffic upstream
		- Identify and correct bugs
	
	* Have ISP trace packet flow back to source:
		- Takes time and is not easy
		- Legal action
	
	* Contingency plan:
		- Switch to alternate servers
	
	* Update incident response plan


~~
